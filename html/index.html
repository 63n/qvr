<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>QVR: QVR: A library to build Virtual Reality applications</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="cg-logo-small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">QVR
   &#160;<span id="projectnumber">0.9.3</span>
   </div>
   <div id="projectbrief">A library to build Virtual Reality applications</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">QVR: A library to build Virtual Reality applications </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Overview"></a>
Overview</h1>
<p>QVR provides the base class <em><a class="el" href="class_q_v_r_app.html" title="QVR application interface. ">QVRApp</a></em> for Virtual Reality applications. An application implements the subset of <em><a class="el" href="class_q_v_r_app.html" title="QVR application interface. ">QVRApp</a></em> functions that it needs. See <em><a class="el" href="class_q_v_r_app.html" title="QVR application interface. ">QVRApp</a></em> for function descriptions.</p>
<p>To run a QVR application, the main() function creates and initializes a <em><a class="el" href="class_q_v_r_manager.html" title="Manager of the QVR application&#39;s control flow and its processes and windows. ">QVRManager</a></em> instances and then calls QApplication::exec() as usual. See <em><a class="el" href="class_q_v_r_manager.html" title="Manager of the QVR application&#39;s control flow and its processes and windows. ">QVRManager</a></em> for a minimal code example.</p>
<p>The <em><a class="el" href="class_q_v_r_manager.html" title="Manager of the QVR application&#39;s control flow and its processes and windows. ">QVRManager</a></em> manages three basic types of objects: observers, processes, and windows:</p><ul>
<li>Observers view the virtual scene. Often there is only one observer. Observers are configured via <em><a class="el" href="class_q_v_r_observer_config.html" title="Configuration of a QVRObserver. ">QVRObserverConfig</a></em> and implemented as <em><a class="el" href="class_q_v_r_observer.html" title="Observer of the virtual world. ">QVRObserver</a></em>.</li>
<li>Processes all run the same application binary. The first process initially run by the user is the master process. Slave processes are automatically launched by <a class="el" href="class_q_v_r_manager.html" title="Manager of the QVR application&#39;s control flow and its processes and windows. ">QVRManager</a> as needed. Each process is connected to one display which can have multiple screens attached. Processes can run on the same host or across a network. Often there is only the master process. Processes are configured via <em><a class="el" href="class_q_v_r_process_config.html" title="Configuration of a QVRProcess. ">QVRProcessConfig</a></em> and implemented as <em><a class="el" href="class_q_v_r_process.html" title="Application process. ">QVRProcess</a></em>.</li>
<li>Windows belong to processes and appear on the display that their process is connected to. They can have different positions and sizes on different screens attached to that display. Each window shows a view for exactly one observer (typically that observer views multiple windows). Windows are configured via <em><a class="el" href="class_q_v_r_window_config.html" title="Configuration of a QVRWindow. ">QVRWindowConfig</a></em> and implemented as <em><a class="el" href="class_q_v_r_window.html" title="A Qt window on a screen and a window into the virtual world. ">QVRWindow</a></em>.</li>
</ul>
<p>All QVR applications support a set of command line options. The most important option lets the user choose a configuration file. See <a class="el" href="class_q_v_r_manager.html#a468c9240024bf4a2bb1da057e0a52ece" title="This constructor creates the manager object. ">QVRManager::QVRManager()</a>. The same application binary can run on different Virtual Reality display setups by specifying different configuration files.</p>
<p>To get started, see the main descriptions of <em><a class="el" href="class_q_v_r_manager.html" title="Manager of the QVR application&#39;s control flow and its processes and windows. ">QVRManager</a></em> and <em><a class="el" href="class_q_v_r_app.html" title="QVR application interface. ">QVRApp</a></em>, and then look at the source code of an example application to understand how it is implemented.</p>
<p>Note: your application must not write to stdout and must not read from stdin. These streams are used by the QVR library for inter-process communication. Of course, writing messages to stderr is still possible.</p>
<h1><a class="anchor" id="conffile"></a>
Configuration files</h1>
<p>A configuration file defines the observers, processes, and windows that the <em><a class="el" href="class_q_v_r_manager.html" title="Manager of the QVR application&#39;s control flow and its processes and windows. ">QVRManager</a></em> will manage.</p>
<p>Each observer, process, and window definition is mapped directly to the <em><a class="el" href="class_q_v_r_observer_config.html" title="Configuration of a QVRObserver. ">QVRObserverConfig</a></em>, <em><a class="el" href="class_q_v_r_process_config.html" title="Configuration of a QVRProcess. ">QVRProcessConfig</a></em>, or <em><a class="el" href="class_q_v_r_window_config.html" title="Configuration of a QVRWindow. ">QVRWindowConfig</a></em> classes.</p>
<p>A configuration file starts with a list of observers and their properties.</p>
<p>After that, the list of processes starts. There is always at least one process: the master process. The master process is connected to the display that Qt initially uses (this can be changed with the -display option or DISPLAY environment variable). Slave processes can connect to different displays. Optionally, a launcher command can be specified, e.g. to run a slave process on a different host using ssh.</p>
<p>Each process definition contains a list of windows for that process. Since windows provide views into the virtual world, the geometry of the screen wall represented by a window must be known. This geometry is either given by screen wall center coordinates, or by coordinates for three of its corners.</p>
<p>Please see the configuration file examples distributed with QVR to understand how typical configurations look like.</p>
<p>Observer definition (see <em><a class="el" href="class_q_v_r_observer.html" title="Observer of the virtual world. ">QVRObserver</a></em> and <em><a class="el" href="class_q_v_r_observer_config.html" title="Configuration of a QVRObserver. ">QVRObserverConfig</a></em>):</p><ul>
<li><code>observer &lt;id&gt;</code><br />
 Start a new observer definition with the given unique id.</li>
<li><code>navigation &lt;stationary|vrpn|wasdqe|custom&gt; [parameters...]</code><br />
 Set the navigation type and parameters.</li>
<li><code>navigation_position &lt;x&gt; &lt;y&gt; &lt;z&gt;</code><br />
 Set the initial navigation position.</li>
<li><code>navigation_forward &lt;x&gt; &lt;y&gt; &lt;z&gt;</code><br />
 Set the initial navigation forward (or viewing) direction.</li>
<li><code>navigation_up &lt;x&gt; &lt;y&gt; &lt;z&gt;</code><br />
 Set the initial navigation up direction.</li>
<li><code>tracking &lt;stationary|vrpn|oculus|custom&gt; [parameters...]</code><br />
 Set the tracking type and parameters.</li>
<li><code>eye_distance &lt;meters&gt;</code><br />
 Set the interpupillary distance.</li>
<li><code>tracking_position &lt;x&gt; &lt;y&gt; &lt;z&gt;</code><br />
 Set the initial tracking position.</li>
<li><code>tracking_forward &lt;x&gt; &lt;y&gt; &lt;z&gt;</code><br />
 Set the initial tracking forward (or viewing) direction.</li>
<li><code>tracking_up &lt;x&gt; &lt;y&gt; &lt;z&gt;</code><br />
 Set the initial tracking up direction.</li>
</ul>
<p>Process definition (see <em><a class="el" href="class_q_v_r_process.html" title="Application process. ">QVRProcess</a></em> and <em><a class="el" href="class_q_v_r_process_config.html" title="Configuration of a QVRProcess. ">QVRProcessConfig</a></em>):</p><ul>
<li><code>process &lt;id&gt;</code><br />
 Start a new process definition with the given unique id.</li>
<li><code>display &lt;name&gt;</code><br />
 Display that this process is connected to.</li>
<li><code>launcher &lt;prg-and-args&gt;</code><br />
 Launcher commando used to start this process.</li>
</ul>
<p>Window definition (see <em><a class="el" href="class_q_v_r_window.html" title="A Qt window on a screen and a window into the virtual world. ">QVRWindow</a></em> and <em><a class="el" href="class_q_v_r_window_config.html" title="Configuration of a QVRWindow. ">QVRWindowConfig</a></em>):</p><ul>
<li><code>window &lt;id&gt;</code><br />
 Start a new window definition with the given unique id, within the current process definition.</li>
<li><code>observer &lt;id&gt;</code><br />
 Set the observer that this window provides a view for.</li>
<li><code>output &lt;center|left|right|stereo&gt; &lt;gl|red_cyan|green_magenta|amber_blue|oculus|plugin&gt;</code><br />
 Set the output mode. Center, left, and right are monoscopic views, stereo is a stereoscopic view with one of the builtin types gl, red_cyan, green_magenta, amber_blue, oculus. Both monoscopic and stereoscopic views can also be handled by an output plugin. See <em><a class="el" href="outputplugin_8hpp.html#a014e82f9b613115213b617206a30c0d6" title="Output the rendered content. ">QVROutputPlugin()</a></em>.</li>
<li><code>display_screen &lt;screen&gt;</code><br />
 Select the Qt screen index on the Qt display that this process is connected to.<br />
</li>
<li><code>fullscreen &lt;true|false&gt;</code> Whether to show the window in fullscreen mode.<br />
</li>
<li><code>position &lt;x&gt; &lt;y&gt;</code><br />
 Set the window position on the Qt screen in pixels.</li>
<li><code>size &lt;w&gt; &lt;h&gt;</code><br />
 Set the window size on the Qt screen in pixels.</li>
<li><code>screen_is_fixed_to_observer &lt;true|false&gt;</code><br />
 Whether the screen wall represented by this window is fixed to the observer, like a head-mounted display, or it is fixed in virtual world space.</li>
<li><code>screen_is_given_by_center &lt;true|false&gt;</code><br />
 Whether the screen wall represented by this window is given by its center or by three of its corners.</li>
<li><code>screen_center &lt;x&gt; &lt;y&gt; &lt;z&gt;</code><br />
 Set screen wall center coordinates.</li>
<li><code>screen_wall &lt;blx&gt; &lt;bly&gt; &lt;blz&gt; &lt;brx&gt; &lt;bry&gt; &lt;brz&gt; &lt;tlx&gt; &lt;tly&gt; &lt;tlz&gt;</code><br />
 Set the screen wall geometry defined by three points: bottom left corner, bottom right corner, and top left corner.</li>
<li><code>render_resolution_factor &lt;factor&gt;</code><br />
 Set the render resolution factor.</li>
</ul>
<h1><a class="anchor" id="Implementation"></a>
Implementation</h1>
<p>The <em><a class="el" href="class_q_v_r_manager.html" title="Manager of the QVR application&#39;s control flow and its processes and windows. ">QVRManager</a></em> creates an invisible main OpenGL context for each process. This context is used for all calls to <em><a class="el" href="class_q_v_r_app.html" title="QVR application interface. ">QVRApp</a></em> application functions: the application only has to deal with this one context. The rendering results are directed into a set of textures that cover all the windows of the process.</p>
<p>When all window textures have been rendered, they are put on screen by the actual visible windows who all have access to the textures from the main window. The windows themselves render in separate rendering threads. On buffer swap, only these rendering threads block. The main thread fills the waiting time with CPU work such as processing events and calling the <em><a class="el" href="class_q_v_r_app.html#af5c07b4602e772e2f78437499d08ada6" title="Update scene state. ">QVRApp::update()</a></em> function of the application.</p>
<p>The process initially started by the user is the master process. <em><a class="el" href="class_q_v_r_manager.html" title="Manager of the QVR application&#39;s control flow and its processes and windows. ">QVRManager</a></em> launch slave processes as required by the configuration file, and it will handle all necessary synchronization and data exchange with these slave processes.</p>
<h1><a class="anchor" id="Notes"></a>
Notes</h1>
<ul>
<li>Oculus Rift: Currently the DK2 was tested on Linux with SDK 0.5. It should be configured as a separate X11 screen, and the orientation of that screen should be fixed with <code>xrandr -display :0.1 -o left</code>. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
